import { Box, Text, useColorModeValue } from "@chakra-ui/react";
import React, { useState } from "react";
import Container from "./Container";
import { Table, Thead, Tbody, Tfoot, Tr } from "@chakra-ui/react";
import Td from "./CustomTd";
import Th from "./CustomTh";
import Chart from "./Chart";
import useWindowSize from "../utils/useWindowSize";
import { data } from "../content/tokenomics";

export default function Tokenomics({ tokenomicsRef }) {
  const [selectedBrowser, setSelectedBrowser] = useState(data[0]);
  const color = useColorModeValue("#05121B", "#FFF");
  const grad = useColorModeValue(
    "linear-gradient(180deg, rgb(255,255,255,0) 0%, rgba(0, 45, 72, 0) 86.65%)",
    "linear-gradient(180deg, #092B40 0%, rgba(0, 45, 72, 0) 86.65%)"
  );
  const { width } = useWindowSize();
  return (
    <Container pt="8em">
      <Box
        ref={tokenomicsRef}
        display="flex"
        flexDirection="column"
        alignItems="center"
      >
        <svg
          width="256"
          height="80"
          viewBox="0 0 256 80"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M41.196 52.288C39.66 52.288 38.892 51.496 38.892 49.912V30.472H31.872C30.552 30.472 29.892 29.824 29.892 28.528C29.892 27.256 30.552 26.62 31.872 26.62H50.52C51.84 26.62 52.5 27.256 52.5 28.528C52.5 29.824 51.84 30.472 50.52 30.472H43.5V49.912C43.5 51.496 42.732 52.288 41.196 52.288ZM59.9149 52.36C58.0909 52.36 56.5069 51.988 55.1629 51.244C53.8189 50.5 52.7749 49.444 52.0309 48.076C51.2869 46.684 50.9149 45.052 50.9149 43.18C50.9149 41.308 51.2869 39.688 52.0309 38.32C52.7749 36.952 53.8189 35.896 55.1629 35.152C56.5069 34.408 58.0909 34.036 59.9149 34.036C61.7389 34.036 63.3229 34.408 64.6669 35.152C66.0109 35.896 67.0549 36.952 67.7989 38.32C68.5429 39.688 68.9149 41.308 68.9149 43.18C68.9149 45.052 68.5429 46.684 67.7989 48.076C67.0549 49.444 66.0109 50.5 64.6669 51.244C63.3229 51.988 61.7389 52.36 59.9149 52.36ZM59.9149 48.94C61.2589 48.94 62.3389 48.46 63.1549 47.5C63.9709 46.516 64.3789 45.076 64.3789 43.18C64.3789 41.26 63.9709 39.832 63.1549 38.896C62.3389 37.936 61.2589 37.456 59.9149 37.456C58.5709 37.456 57.4909 37.936 56.6749 38.896C55.8589 39.832 55.4509 41.26 55.4509 43.18C55.4509 45.076 55.8589 46.516 56.6749 47.5C57.4909 48.46 58.5709 48.94 59.9149 48.94ZM74.8611 52.288C73.3731 52.288 72.6291 51.52 72.6291 49.984V28.6C72.6291 27.088 73.3731 26.332 74.8611 26.332C76.3731 26.332 77.1291 27.088 77.1291 28.6V41.884H77.2011L83.1411 35.62C83.6211 35.14 84.0411 34.768 84.4011 34.504C84.7611 34.24 85.2531 34.108 85.8771 34.108C86.5011 34.108 86.9691 34.276 87.2811 34.612C87.6171 34.924 87.7851 35.308 87.7851 35.764C87.7851 36.22 87.5691 36.676 87.1371 37.132L81.7371 42.82L87.7491 49.3C88.1811 49.756 88.3731 50.224 88.3251 50.704C88.3011 51.16 88.1091 51.544 87.7491 51.856C87.3891 52.144 86.9331 52.288 86.3811 52.288C85.7091 52.288 85.1691 52.156 84.7611 51.892C84.3771 51.628 83.9451 51.232 83.4651 50.704L77.2011 44.152H77.1291V49.984C77.1291 51.52 76.3731 52.288 74.8611 52.288ZM100.254 52.36C98.2623 52.36 96.5463 51.988 95.1063 51.244C93.6663 50.5 92.5503 49.444 91.7583 48.076C90.9903 46.708 90.6063 45.088 90.6063 43.216C90.6063 41.392 90.9783 39.796 91.7223 38.428C92.4903 37.06 93.5343 35.992 94.8543 35.224C96.1983 34.432 97.7223 34.036 99.4263 34.036C101.922 34.036 103.89 34.828 105.33 36.412C106.794 37.996 107.526 40.156 107.526 42.892C107.526 43.78 106.95 44.224 105.798 44.224H94.9263C95.2623 47.368 97.0623 48.94 100.326 48.94C100.95 48.94 101.646 48.868 102.414 48.724C103.206 48.556 103.95 48.28 104.646 47.896C105.27 47.536 105.798 47.428 106.23 47.572C106.662 47.692 106.962 47.944 107.13 48.328C107.322 48.712 107.346 49.144 107.202 49.624C107.082 50.08 106.746 50.476 106.194 50.812C105.354 51.34 104.382 51.736 103.278 52C102.198 52.24 101.19 52.36 100.254 52.36ZM99.6063 37.096C98.2863 37.096 97.2183 37.504 96.4023 38.32C95.5863 39.136 95.0943 40.24 94.9263 41.632H103.782C103.686 40.168 103.278 39.052 102.558 38.284C101.862 37.492 100.878 37.096 99.6063 37.096ZM113.322 52.288C111.834 52.288 111.09 51.52 111.09 49.984V36.376C111.09 34.864 111.822 34.108 113.286 34.108C114.75 34.108 115.482 34.864 115.482 36.376V37.132C116.082 36.124 116.886 35.356 117.894 34.828C118.926 34.3 120.078 34.036 121.35 34.036C125.502 34.036 127.578 36.448 127.578 41.272V49.984C127.578 51.52 126.834 52.288 125.346 52.288C123.834 52.288 123.078 51.52 123.078 49.984V41.488C123.078 40.12 122.814 39.124 122.286 38.5C121.782 37.876 120.99 37.564 119.91 37.564C118.59 37.564 117.534 37.984 116.742 38.824C115.974 39.64 115.59 40.732 115.59 42.1V49.984C115.59 51.52 114.834 52.288 113.322 52.288ZM140.177 52.36C138.353 52.36 136.769 51.988 135.425 51.244C134.081 50.5 133.037 49.444 132.293 48.076C131.549 46.684 131.177 45.052 131.177 43.18C131.177 41.308 131.549 39.688 132.293 38.32C133.037 36.952 134.081 35.896 135.425 35.152C136.769 34.408 138.353 34.036 140.177 34.036C142.001 34.036 143.585 34.408 144.929 35.152C146.273 35.896 147.317 36.952 148.061 38.32C148.805 39.688 149.177 41.308 149.177 43.18C149.177 45.052 148.805 46.684 148.061 48.076C147.317 49.444 146.273 50.5 144.929 51.244C143.585 51.988 142.001 52.36 140.177 52.36ZM140.177 48.94C141.521 48.94 142.601 48.46 143.417 47.5C144.233 46.516 144.641 45.076 144.641 43.18C144.641 41.26 144.233 39.832 143.417 38.896C142.601 37.936 141.521 37.456 140.177 37.456C138.833 37.456 137.753 37.936 136.937 38.896C136.121 39.832 135.713 41.26 135.713 43.18C135.713 45.076 136.121 46.516 136.937 47.5C137.753 48.46 138.833 48.94 140.177 48.94ZM155.195 52.288C153.707 52.288 152.963 51.52 152.963 49.984V36.376C152.963 34.864 153.695 34.108 155.159 34.108C156.623 34.108 157.355 34.864 157.355 36.376V37.096C157.883 36.136 158.615 35.392 159.551 34.864C160.487 34.312 161.567 34.036 162.791 34.036C165.431 34.036 167.159 35.188 167.975 37.492C168.527 36.412 169.319 35.572 170.351 34.972C171.383 34.348 172.559 34.036 173.879 34.036C177.839 34.036 179.819 36.448 179.819 41.272V49.984C179.819 51.52 179.063 52.288 177.551 52.288C176.063 52.288 175.319 51.52 175.319 49.984V41.452C175.319 40.108 175.091 39.124 174.635 38.5C174.203 37.876 173.459 37.564 172.403 37.564C171.227 37.564 170.303 37.984 169.631 38.824C168.959 39.64 168.623 40.78 168.623 42.244V49.984C168.623 51.52 167.879 52.288 166.391 52.288C164.879 52.288 164.123 51.52 164.123 49.984V41.452C164.123 40.108 163.895 39.124 163.439 38.5C163.007 37.876 162.275 37.564 161.243 37.564C160.067 37.564 159.143 37.984 158.471 38.824C157.799 39.64 157.463 40.78 157.463 42.244V49.984C157.463 51.52 156.707 52.288 155.195 52.288ZM186.693 30.796C185.853 30.796 185.193 30.592 184.713 30.184C184.257 29.752 184.029 29.164 184.029 28.42C184.029 27.652 184.257 27.064 184.713 26.656C185.193 26.248 185.853 26.044 186.693 26.044C188.469 26.044 189.357 26.836 189.357 28.42C189.357 30.004 188.469 30.796 186.693 30.796ZM186.693 52.252C185.973 52.252 185.421 52.036 185.037 51.604C184.653 51.172 184.461 50.572 184.461 49.804V36.592C184.461 34.96 185.205 34.144 186.693 34.144C188.205 34.144 188.961 34.96 188.961 36.592V49.804C188.961 50.572 188.769 51.172 188.385 51.604C188.001 52.036 187.437 52.252 186.693 52.252ZM201.773 52.36C199.925 52.36 198.317 51.988 196.949 51.244C195.581 50.476 194.525 49.396 193.781 48.004C193.037 46.612 192.665 44.98 192.665 43.108C192.665 41.236 193.037 39.628 193.781 38.284C194.525 36.916 195.581 35.872 196.949 35.152C198.317 34.408 199.925 34.036 201.773 34.036C202.565 34.036 203.417 34.144 204.329 34.36C205.265 34.576 206.141 34.936 206.957 35.44C207.437 35.728 207.713 36.1 207.785 36.556C207.881 37.012 207.821 37.432 207.605 37.816C207.413 38.2 207.113 38.476 206.705 38.644C206.321 38.812 205.877 38.752 205.373 38.464C204.269 37.84 203.201 37.528 202.169 37.528C200.609 37.528 199.397 38.02 198.533 39.004C197.693 39.964 197.273 41.344 197.273 43.144C197.273 44.92 197.693 46.324 198.533 47.356C199.397 48.364 200.609 48.868 202.169 48.868C203.201 48.868 204.269 48.568 205.373 47.968C205.877 47.68 206.321 47.62 206.705 47.788C207.089 47.956 207.365 48.244 207.533 48.652C207.701 49.036 207.737 49.456 207.641 49.912C207.545 50.344 207.269 50.704 206.813 50.992C206.021 51.472 205.181 51.82 204.293 52.036C203.405 52.252 202.565 52.36 201.773 52.36ZM217.061 52.36C216.029 52.36 214.937 52.252 213.785 52.036C212.633 51.82 211.601 51.448 210.689 50.92C210.185 50.632 209.873 50.284 209.753 49.876C209.633 49.444 209.645 49.048 209.789 48.688C209.957 48.304 210.221 48.028 210.581 47.86C210.965 47.692 211.409 47.728 211.913 47.968C212.873 48.424 213.773 48.748 214.613 48.94C215.453 49.108 216.281 49.192 217.097 49.192C218.249 49.192 219.101 49 219.653 48.616C220.229 48.208 220.517 47.68 220.517 47.032C220.517 46.024 219.773 45.376 218.285 45.088L214.685 44.404C211.637 43.828 210.113 42.244 210.113 39.652C210.113 38.5 210.425 37.504 211.049 36.664C211.697 35.824 212.585 35.176 213.713 34.72C214.841 34.264 216.137 34.036 217.601 34.036C219.713 34.036 221.597 34.504 223.253 35.44C223.709 35.68 223.973 36.016 224.045 36.448C224.141 36.856 224.093 37.252 223.901 37.636C223.733 37.996 223.457 38.26 223.073 38.428C222.689 38.572 222.245 38.524 221.741 38.284C220.997 37.9 220.277 37.624 219.581 37.456C218.909 37.288 218.261 37.204 217.637 37.204C216.461 37.204 215.585 37.408 215.009 37.816C214.457 38.224 214.181 38.764 214.181 39.436C214.181 40.492 214.865 41.14 216.233 41.38L219.833 42.064C221.393 42.352 222.569 42.88 223.361 43.648C224.177 44.416 224.585 45.448 224.585 46.744C224.585 48.496 223.901 49.876 222.533 50.884C221.165 51.868 219.341 52.36 217.061 52.36Z"
            fill={color}
          />
          <path
            d="M0.5 27.0736C0.5 22.6189 0.501004 19.3267 0.833628 16.7856C1.16438 14.2588 1.81572 12.544 3.06771 11.2078C4.31971 9.87167 5.98855 9.1103 8.48856 8.61609C11.0027 8.11908 14.2879 7.90419 18.7332 7.61479L128 0.501059L237.267 7.61479C241.712 7.90419 244.997 8.11908 247.511 8.61609C250.011 9.1103 251.68 9.87167 252.932 11.2078C254.184 12.544 254.836 14.2588 255.166 16.7856C255.499 19.3267 255.5 22.6189 255.5 27.0736V51.9769C255.5 56.3962 255.499 59.6622 255.17 62.185C254.843 64.6936 254.199 66.3987 252.96 67.7319C251.722 69.065 250.069 69.8329 247.591 70.3438C245.099 70.8575 241.842 71.0988 237.435 71.424L132.967 79.1322C130.459 79.3172 129.23 79.4076 128 79.4076C126.77 79.4076 125.541 79.3172 123.033 79.1322L18.5651 71.424C14.1577 71.0988 10.9007 70.8575 8.40895 70.3438C5.93126 69.8329 4.27814 69.065 3.03972 67.7319C1.8013 66.3987 1.1571 64.6936 0.829976 62.185C0.500996 59.6622 0.5 56.3962 0.5 51.9769V27.0736Z"
            stroke="url(#paint0_linear_173_3311)"
          />
          <defs>
            <linearGradient
              id="paint0_linear_173_3311"
              x1="128"
              y1="0"
              x2="128"
              y2="84.6154"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#006CA2" />
              <stop offset="1" stopColor="#006CA2" stopOpacity="0" />
            </linearGradient>
          </defs>
        </svg>
      </Box>
      <Box
        display="grid"
        gridTemplateColumns={["1fr", "1.5fr 1fr"]}
        p={["0.3em", "3.75em"]}
        background={grad}
        borderRadius="0.5em"
        width="100%"
        mt="2em"
      >
        <Box
          bg="#021C2A"
          borderRadius="0.5em"
          overflow="hidden"
          padding={["0.5em", "1em"]}
        >
          <Table size="sm" borderRadius="0.5em" overflow="hidden">
            <Thead>
              <Tr>
                <Th>Pool</Th>
                <Th>AMT Price</Th>
                <Th>Raised</Th>
                <Th>%</Th>
                <Th>Tokens</Th>
              </Tr>
            </Thead>
            <Tbody>
              {data.map((item, key) => (
                <Tr
                  key={key}
                  _hover={{ bg: "#024870", cursor: "pointer" }}
                  bg={selectedBrowser === item && "#024870"}
                  onClick={() => setSelectedBrowser(item)}
                >
                  <Td>{item.label}</Td>
                  <Td>{item.amt}</Td>
                  <Td>{item.raised}</Td>
                  <Td>{item.value}</Td>
                  <Td>{item.tokens}</Td>
                </Tr>
              ))}
            </Tbody>
            <Tfoot backgroundColor="#014870" borderBottomRadius="1em">
              <Tr>
                <Th color="#FFF" fontWeight={700}>
                  Total
                </Th>
                <Th color="#FFF" fontWeight={700}></Th>
                <Th color="#FFF" fontWeight={700}>
                  $1.032,480
                </Th>
                <Th color="#FFF" fontWeight={700}>
                  100,00%
                </Th>
                <Th color="#FFF" fontWeight={700}>
                  100 000 000
                </Th>
              </Tr>
            </Tfoot>
          </Table>
        </Box>
        <Box
          display="flex"
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
        >
          <Chart
            selectedBrowser={selectedBrowser}
            setSelectedBrowser={setSelectedBrowser}
            size={width <= 768}
            width={width <= 768 ? "350" : "500"}
            height={width <= 768 ? "350" : "500"}
          />
        </Box>
      </Box>
    </Container>
  );
}
